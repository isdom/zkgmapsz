<zk>
	<window >
		<zscript>
    <![CDATA[
	import java.util.*;
	import java.util.Calendar;
	import org.zkforge.timeline.*;
	import org.zkforge.timeline.data.*;
	import org.zkforge.timeline.decorator.*;
	TimeZone zone = TimeZone.getTimeZone("GMT-05");
	Date current = new Date(Date.parse("Jun 28 2006 00:00:00 GMT-0500"));
	//for hotzone of band #1
	Date d1 = new Date(Date.parse("Aug 01 2006 00:00:00 GMT-0500"));
	Date d2 = new Date(Date.parse("Sep 01 2006 00:00:00 GMT-0500"));
	Date d3 = new Date(Date.parse("Aug 02 2006 00:00:00 GMT-0500"));
	Date d4 = new Date(Date.parse("Aug 04 2006 00:00:00 GMT-0500"));
	Date d5 = new Date(Date.parse("Aug 02 2006 06:00:00 GMT-0500"));
	Date d6 = new Date(Date.parse("Aug 02 2006 12:00:00 GMT-0500"));
	//for hotzone of band #2
	Date d7 = new Date(Date.parse("Aug 01 2006 00:00:00 GMT-0500"));
	Date d8 = new Date(Date.parse("Sep 01 2006 00:00:00 GMT-0500"));
	void showBubble() {
		b1.setBubbleVisible(!b1.isBubbleVisible());
	}
	void scrollToCenter() {
		b1.scrollToCenter(new Date());
	}
	OccurEvent e = new OccurEvent();
	Calendar cal = Calendar.getInstance();
	Calendar cal2 = Calendar.getInstance();
	Calendar cal3 = Calendar.getInstance();
	cal.add(Calendar.DAY_OF_MONTH, 10);
	cal2.add(Calendar.DAY_OF_MONTH, -10);
	cal3.add(Calendar.DAY_OF_MONTH, 20);
	e.setStart(cal2.getTime());
	e.setEnd(cal3.getTime());
	e.setLatestStart(new Date());
	e.setEarliestEnd(cal.getTime());
	e.setText("-----------new-----------");
	e.setDuration(false);
	void add() {
		b1.addOccurEvent(e);
		b2.addOccurEvent(e);
		b1.scrollToCenter(e.getStart());
	}
	void remove() {
		b1.removeOccurEvent(e);
		b2.removeOccurEvent(e);
		b1.scrollToCenter(e.getStart());
	}
	void filter() {
		String title = filter.getValue();
		tl.performFiltering(title);
	}
	void highlight() {
		String[] highlight = new String[2];
		highlight[0] = highlight1.getValue();
		highlight[1] = highlight2.getValue();
		tl.performHighlitht(highlight);
	}
	void clean() {
		tl.clearFilter();
	}
	void clean2() {
		tl.clearHighlight();
	}
	SpanHighlightDecorator shd = new SpanHighlightDecorator(d1, d2);
	Calendar cal4 = Calendar.getInstance();
	cal4.add(Calendar.DAY_OF_MONTH, 5);

	shd.setStartDate(new Date());
	shd.setEndDate(cal4.getTime());
	shd.setStartLabel("start");
	shd.setEndLabel("end");
	shd.setColor("red");
	shd.setOpacity(50);
	void addDecorator() {
		b1.removeHighlightDecorator(shd);
		b2.removeHighlightDecorator(shd);

		b1.addHighlightDecorator(shd);
		b2.addHighlightDecorator(shd);
		b1.scrollToCenter(shd.getStartDate());
	}
	void removeDecorator() {
		b1.removeHighlightDecorator(shd);
		b2.removeHighlightDecorator(shd);
		b1.scrollToCenter(shd.getStartDate());
	}
	void showLoadingMessage() {
		b1.showLoadingMessage(true);
	}
	void hideLoadingMessage() {
		b1.showLoadingMessage(false);
	}
	void setXML1() {
		b1.setEventSourceUrl("data/timeline_ex1.xml");
		msg.setValue("data/timeline_ex1.xml");
	}
	void setXML2() {
		b1.setEventSourceUrl("data/example2.xml");
		msg.setValue("data/timeline_ex1.xml");
	}
]]>
  </zscript>
		<timeline id="tl" height="300px" width="100%">
			<bandinfo width="70%" id="b1" intervalUnit="month"  
				intervalPixels="100" eventSourceUrl="data/example2.xml"
				timeZone="${zone}" date="${current}">
				<hotzone start="${d1}" end="${d2}" magnify="10"
					unit="week" />
				<hotzone start="${d3}" end="${d4}" magnify="7"
					unit="day" />
				<hotzone start="${d5}" end="${d6}" magnify="5"
					unit="hour" />
			</bandinfo>
			<bandinfo id="b2" timeZone="${zone}" date="${current}" overview="true"
				width="30%" intervalUnit="year" intervalPixels="200" syncWith="b1"
				eventSourceUrl="data/example2.xml">
				<hotzone start="${d7}" end="${d8}" magnify="20"
					unit="week" />
			</bandinfo>
		</timeline>

		<vbox>
			<hbox>
				<button label="horizontal"
					onClick='tl.orient="horizontal"' />
				<button label="vertical" onClick='tl.orient="vertical"' />
			</hbox>
			<hbox>
				<textbox id="h" value="500px" />
				<button label="height" onClick='tl.height=h.value' />
				<textbox id="w" value="800px" />
				<button label="width" onClick='tl.width=w.value' />
			</hbox>
			<hbox>
				<button label="showBubble" onClick='showBubble()' />
				<button label="overview"
					onClick='b2.overview=!b2.overview' />
				<button label="scrollToCenter"
					onClick='scrollToCenter()' />
			</hbox>
			<hbox>
				<button label="add" onClick='add()' />
				<button label="remove" onClick='remove()' />
			</hbox>
			<hbox>
				<textbox id="filter" value="Writing Timeline" />
				<button label="filter" onClick='filter()' />
				<button label="clean" onClick='clean()' />
			</hbox>
			<hbox>
				<textbox id="highlight1" value="Writing Timeline" />
				<textbox id="highlight2" value="Friend's wedding" />
				<button label="highlight" onClick='highlight()' />
				<button label="clean" onClick='clean2()' />
			</hbox>
			<hbox>
				<button label="addDecorator" onClick='addDecorator()' />
				<button label="removeDecorator"
					onClick='removeDecorator()' />
				<button label="showLoadingMessage"
					onClick='showLoadingMessage()' />
				<button label="hideLoadingMessage"
					onClick='hideLoadingMessage()' />
				<button label="setXML1" onClick='setXML1()' />
				<button label="setXML2" onClick='setXML2()' />
				<label id="msg" />
			</hbox>
		</vbox>
	</window>
</zk>